<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>RequestContext.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Restheart</a> &gt; <a href="index.source.html" class="el_package">org.restheart.handlers</a> &gt; <span class="el_source">RequestContext.java</span></div><h1>RequestContext.java</h1><pre class="source lang-java linenums">/*
 * RESTHeart - the data REST API server
 * Copyright (C) 2014 - 2015 SoftInstigate Srl
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 * 
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
package org.restheart.handlers;

import com.mongodb.DBObject;
import org.restheart.db.DBCursorPool.EAGER_CURSOR_ALLOCATION_POLICY;
import org.restheart.utils.URLUtils;
import io.undertow.server.HttpServerExchange;
import io.undertow.util.HttpString;
import io.undertow.util.Methods;
import java.io.File;
import java.net.URI;
import java.net.URISyntaxException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Deque;
import java.util.List;

/**
 *
 * @author Andrea Di Cesare &lt;andrea@softinstigate.com&gt;
 */
public class RequestContext {

<span class="pc" id="L40">    public enum TYPE {</span>
<span class="fc" id="L41">        ERROR,</span>
<span class="fc" id="L42">        ROOT,</span>
<span class="fc" id="L43">        DB,</span>
<span class="fc" id="L44">        COLLECTION,</span>
<span class="fc" id="L45">        DOCUMENT,</span>
<span class="fc" id="L46">        COLLECTION_INDEXES,</span>
<span class="fc" id="L47">        INDEX,</span>
<span class="fc" id="L48">        FILES_BUCKET,</span>
<span class="fc" id="L49">        FILE,</span>
<span class="fc" id="L50">        FILE_BINARY</span>
    };

<span class="pc" id="L53">    public enum METHOD {</span>
<span class="fc" id="L54">        GET,</span>
<span class="fc" id="L55">        POST,</span>
<span class="fc" id="L56">        PUT,</span>
<span class="fc" id="L57">        DELETE,</span>
<span class="fc" id="L58">        PATCH,</span>
<span class="fc" id="L59">        OPTIONS,</span>
<span class="fc" id="L60">        OTHER</span>
    };

<span class="pc" id="L63">    public enum DOC_ID_TYPE {</span>
<span class="fc" id="L64">        OID, // ObjectId</span>
<span class="fc" id="L65">        STRING_OID, // String eventually converted to ObjectId in case ObjectId.isValid() is true</span>
<span class="fc" id="L66">        STRING, // String</span>
<span class="fc" id="L67">        NUMBER, // any Number (including mongodb NumberLong)</span>
<span class="fc" id="L68">        DATE, // Date</span>
<span class="fc" id="L69">        MINKEY, //org.bson.types.MinKey;</span>
<span class="fc" id="L70">        MAXKEY // org.bson.types.MaxKey</span>
    }

    public static final String PAGE_QPARAM_KEY = &quot;page&quot;;
    public static final String PAGESIZE_QPARAM_KEY = &quot;pagesize&quot;;
    public static final String COUNT_QPARAM_KEY = &quot;count&quot;;
    public static final String SORT_BY_QPARAM_KEY = &quot;sort_by&quot;;
    public static final String FILTER_QPARAM_KEY = &quot;filter&quot;;
    public static final String KEYS_QPARAM_KEY = &quot;keys&quot;;
    public static final String EAGER_CURSOR_ALLOCATION_POLICY_QPARAM_KEY = &quot;eager&quot;;
    public static final String DOC_ID_TYPE_KEY = &quot;id_type&quot;;
    public static final String SLASH = &quot;/&quot;;
    public static final String PATCH = &quot;PATCH&quot;;
    public static final String UNDERSCORE = &quot;_&quot;;
    public static final String SYSTEM = &quot;system.&quot;;
    public static final String LOCAL = &quot;local&quot;;
    public static final String ADMIN = &quot;admin&quot;;
    public static final String FS_CHUNKS_SUFFIX = &quot;.chunks&quot;;
    public static final String FS_FILES_SUFFIX = &quot;.files&quot;;
    public static final String _INDEXES = &quot;_indexes&quot;;
    public static final String BINARY_CONTENT = &quot;binary&quot;;

    public static final String MAX_KEY_ID = &quot;_MaxKey&quot;;
    public static final String MIN_KEY_ID = &quot;_MinKey&quot;;

    private final String whereUri;
    private final String whatUri;

    private final TYPE type;
    private final METHOD method;
    private final String[] pathTokens;

    private DBObject dbProps;
    private DBObject collectionProps;

    private DBObject content;

    private File file;

    private DBObject responseContent;

<span class="fc" id="L111">    private final List&lt;String&gt; warnings = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L113">    private int page = 1;</span>
<span class="fc" id="L114">    private int pagesize = 100;</span>
<span class="fc" id="L115">    private boolean count = false;</span>
    private EAGER_CURSOR_ALLOCATION_POLICY cursorAllocationPolicy;
<span class="fc" id="L117">    private Deque&lt;String&gt; filter = null;</span>
<span class="fc" id="L118">    private Deque&lt;String&gt; keys = null;</span>
<span class="fc" id="L119">    private Deque&lt;String&gt; sortBy = null;</span>
<span class="fc" id="L120">    private DOC_ID_TYPE docIdType = DOC_ID_TYPE.STRING_OID;</span>
    private Object documentId;

<span class="fc" id="L123">    private String unmappedRequestUri = null;</span>
<span class="fc" id="L124">    private String mappedRequestUri = null;</span>

    /**
     *
     * @param exchange the url rewriting feature is implemented by the whatUri
     * and whereUri parameters
     *
     * the exchange request path is rewritten replacing the whereUri string with
     * the whatUri string the special whatUri value * means any resource: the
     * whereUri is replaced with /
     *
     * example 1
     *
     * whatUri = /mydb/mycollection whereUri = /
     *
     * then the requestPath / is rewritten to /mydb/mycollection
     *
     * example 2
     *
     * whatUri = * whereUri = /data
     *
     * then the requestPath /data is rewritten to /
     *
     * @param whereUri the uri to map to
     * @param whatUri the uri to map
     */
<span class="fc" id="L150">    public RequestContext(HttpServerExchange exchange, String whereUri, String whatUri) {</span>
<span class="fc" id="L151">        this.whereUri = URLUtils.removeTrailingSlashes(whereUri);</span>
<span class="fc" id="L152">        this.whatUri = whatUri;</span>

<span class="fc" id="L154">        this.unmappedRequestUri = exchange.getRequestPath();</span>
<span class="fc" id="L155">        this.mappedRequestUri = unmapUri(exchange.getRequestPath());</span>

        // &quot;/db/collection/document&quot; --&gt; { &quot;&quot;, &quot;mappedDbName&quot;, &quot;collection&quot;, &quot;document&quot; }
<span class="fc" id="L158">        this.pathTokens = this.mappedRequestUri.split(SLASH);</span>
<span class="fc" id="L159">        this.type = selectRequestType(pathTokens);</span>

<span class="fc" id="L161">        this.method = selectRequestMethod(exchange.getRequestMethod());</span>
<span class="fc" id="L162">    }</span>

    protected static METHOD selectRequestMethod(HttpString _method) {
        METHOD method;
<span class="fc bfc" id="L166" title="All 2 branches covered.">        if (Methods.GET.equals(_method)) {</span>
<span class="fc" id="L167">            method = METHOD.GET;</span>
<span class="fc bfc" id="L168" title="All 2 branches covered.">        } else if (Methods.POST.equals(_method)) {</span>
<span class="fc" id="L169">            method = METHOD.POST;</span>
<span class="fc bfc" id="L170" title="All 2 branches covered.">        } else if (Methods.PUT.equals(_method)) {</span>
<span class="fc" id="L171">            method = METHOD.PUT;</span>
<span class="pc bpc" id="L172" title="1 of 2 branches missed.">        } else if (Methods.DELETE.equals(_method)) {</span>
<span class="nc" id="L173">            method = METHOD.DELETE;</span>
<span class="fc bfc" id="L174" title="All 2 branches covered.">        } else if (PATCH.equals(_method.toString())) {</span>
<span class="fc" id="L175">            method = METHOD.PATCH;</span>
<span class="pc bpc" id="L176" title="1 of 2 branches missed.">        } else if (Methods.OPTIONS.equals(_method)) {</span>
<span class="nc" id="L177">            method = METHOD.OPTIONS;</span>
        } else {
<span class="fc" id="L179">            method = METHOD.OTHER;</span>
        }
<span class="fc" id="L181">        return method;</span>
    }

    protected static TYPE selectRequestType(String[] pathTokens) {
        TYPE type;
<span class="fc bfc" id="L186" title="All 2 branches covered.">        if (pathTokens.length &lt; 2) {</span>
<span class="fc" id="L187">            type = TYPE.ROOT;</span>
<span class="fc bfc" id="L188" title="All 2 branches covered.">        } else if (pathTokens.length &lt; 3) {</span>
<span class="fc" id="L189">            type = TYPE.DB;</span>
<span class="pc bpc" id="L190" title="1 of 4 branches missed.">        } else if (pathTokens.length &gt;= 3 &amp;&amp; pathTokens[2].endsWith(FS_FILES_SUFFIX)) {</span>
<span class="fc bfc" id="L191" title="All 2 branches covered.">            if (pathTokens.length == 3) {</span>
<span class="fc" id="L192">                type = TYPE.FILES_BUCKET;</span>
<span class="pc bpc" id="L193" title="1 of 4 branches missed.">            } else if (pathTokens.length == 4 &amp;&amp; pathTokens[3].equalsIgnoreCase(_INDEXES)) {</span>
<span class="nc" id="L194">                type = TYPE.COLLECTION_INDEXES;</span>
<span class="pc bpc" id="L195" title="1 of 4 branches missed.">            } else if (pathTokens.length == 4 &amp;&amp; !pathTokens[3].equalsIgnoreCase(_INDEXES)) {</span>
<span class="fc" id="L196">                type = TYPE.FILE;</span>
<span class="pc bpc" id="L197" title="2 of 4 branches missed.">            } else if (pathTokens.length &gt; 4 &amp;&amp; pathTokens[3].equalsIgnoreCase(_INDEXES)) {</span>
<span class="nc" id="L198">                type = TYPE.INDEX;</span>
<span class="pc bpc" id="L199" title="2 of 6 branches missed.">            } else if (pathTokens.length &gt; 4 &amp;&amp; !pathTokens[3].equalsIgnoreCase(_INDEXES) &amp;&amp; !pathTokens[4].equalsIgnoreCase(BINARY_CONTENT)) {</span>
<span class="fc" id="L200">                type = TYPE.FILE;</span>
<span class="pc bpc" id="L201" title="2 of 4 branches missed.">            } else if (pathTokens.length == 5 &amp;&amp; pathTokens[4].equalsIgnoreCase(BINARY_CONTENT)) {</span>
                // URL: &lt;host&gt;/db/bucket.file/xxx/binary
<span class="fc" id="L203">                type = TYPE.FILE_BINARY;</span>
            } else {
<span class="nc" id="L205">                type = TYPE.DOCUMENT;</span>
            }
<span class="fc bfc" id="L207" title="All 2 branches covered.">        } else if (pathTokens.length &lt; 4) {</span>
<span class="fc" id="L208">            type = TYPE.COLLECTION;</span>
<span class="fc bfc" id="L209" title="All 4 branches covered.">        } else if (pathTokens.length == 4 &amp;&amp; pathTokens[3].equalsIgnoreCase(_INDEXES)) {</span>
<span class="fc" id="L210">            type = TYPE.COLLECTION_INDEXES;</span>
<span class="pc bpc" id="L211" title="1 of 4 branches missed.">        } else if (pathTokens.length &gt; 4 &amp;&amp; pathTokens[3].equalsIgnoreCase(_INDEXES)) {</span>
<span class="fc" id="L212">            type = TYPE.INDEX;</span>
        } else {
<span class="fc" id="L214">            type = TYPE.DOCUMENT;</span>
        }
<span class="fc" id="L216">        return type;</span>
    }

    /**
     * given a mapped uri (/some/mapping/coll) returns the canonical uri
     * (/db/coll) URLs are mapped to mongodb resources by using the mongo-mounts
     * configuration properties
     *
     * @param mappedUri
     * @return
     */
    public final String unmapUri(String mappedUri) {
<span class="fc" id="L228">        String ret = URLUtils.removeTrailingSlashes(mappedUri);</span>

<span class="fc bfc" id="L230" title="All 2 branches covered.">        if (whatUri.equals(&quot;*&quot;)) {</span>
<span class="fc bfc" id="L231" title="All 2 branches covered.">            if (!this.whereUri.equals(SLASH)) {</span>
<span class="fc" id="L232">                ret = ret.replaceFirst(&quot;^&quot; + this.whereUri, &quot;&quot;);</span>
            }
        } else {
<span class="fc" id="L235">            ret = URLUtils.removeTrailingSlashes(ret.replaceFirst(&quot;^&quot; + this.whereUri, this.whatUri));</span>
        }

<span class="fc bfc" id="L238" title="All 2 branches covered.">        if (ret.isEmpty()) {</span>
<span class="fc" id="L239">            ret = SLASH;</span>
        }

<span class="fc" id="L242">        return ret;</span>
    }

    /**
     * given a canonical uri (/db/coll) returns the mapped uri (/db/coll)
     * relative to this context URLs are mapped to mongodb resources by using
     * the mongo-mounts configuration properties
     *
     * @param unmappedUri
     * @return
     */
    public final String mapUri(String unmappedUri) {
<span class="fc" id="L254">        String ret = URLUtils.removeTrailingSlashes(unmappedUri);</span>

<span class="pc bpc" id="L256" title="1 of 2 branches missed.">        if (whatUri.equals(&quot;*&quot;)) {</span>
<span class="nc bnc" id="L257" title="All 2 branches missed.">            if (!this.whereUri.equals(SLASH)) {</span>
<span class="nc" id="L258">                return this.whereUri + unmappedUri;</span>
            }
        } else {
<span class="fc" id="L261">            ret = URLUtils.removeTrailingSlashes(ret.replaceFirst(&quot;^&quot; + this.whatUri, this.whereUri));</span>
        }

<span class="pc bpc" id="L264" title="1 of 2 branches missed.">        if (ret.isEmpty()) {</span>
<span class="nc" id="L265">            ret = SLASH;</span>
        }

<span class="fc" id="L268">        return ret;</span>
    }

    /**
     * check if the parent of the requested resource is accessible in this
     * request context
     *
     * for instance if /mydb/mycollection is mapped to /coll then:
     *
     * the db is accessible from the collection the root is not accessible from
     * the collection (since / is actually mapped to the db)
     *
     * @return true if parent of the requested resource is accessible
     */
    public final boolean isParentAccessible() {
<span class="nc bnc" id="L283" title="All 2 branches missed.">        return type == TYPE.DB</span>
<span class="nc bnc" id="L284" title="All 2 branches missed.">                ? unmappedRequestUri.split(SLASH).length &gt; 1</span>
<span class="nc bnc" id="L285" title="All 2 branches missed.">                : unmappedRequestUri.split(SLASH).length &gt; 2;</span>
    }

    /**
     *
     * @return type
     */
    public TYPE getType() {
<span class="fc" id="L293">        return type;</span>
    }

    /**
     *
     * @return DB Name
     */
    public String getDBName() {
<span class="nc" id="L301">        return getPathTokenAt(1);</span>
    }

    /**
     *
     * @return collection name
     */
    public String getCollectionName() {
<span class="nc" id="L309">        return getPathTokenAt(2);</span>
    }

    /**
     *
     * @return document id
     */
    public String getDocumentIdRaw() {
<span class="nc" id="L317">        return getPathTokenAt(3);</span>
    }

    /**
     *
     * @return index id
     */
    public String getIndexId() {
<span class="nc" id="L325">        return getPathTokenAt(4);</span>
    }

    /**
     *
     * @return URI
     * @throws URISyntaxException
     */
    public URI getUri() throws URISyntaxException {
<span class="nc" id="L334">        return new URI(Arrays.asList(pathTokens).stream().reduce(SLASH, (t1, t2) -&gt; t1 + SLASH + t2));</span>
    }

    /**
     *
     * @return method
     */
    public METHOD getMethod() {
<span class="fc" id="L342">        return method;</span>
    }

    /**
     *
     * @param dbName
     * @return isReservedResourceDb
     */
    public static boolean isReservedResourceDb(String dbName) {
<span class="nc bnc" id="L351" title="All 2 branches missed.">        return dbName.equals(ADMIN)</span>
<span class="nc bnc" id="L352" title="All 2 branches missed.">                || dbName.equals(LOCAL)</span>
<span class="nc bnc" id="L353" title="All 2 branches missed.">                || dbName.startsWith(SYSTEM)</span>
<span class="nc bnc" id="L354" title="All 2 branches missed.">                || dbName.startsWith(UNDERSCORE);</span>
    }

    /**
     *
     * @param collectionName
     * @return isReservedResourceCollection
     */
    public static boolean isReservedResourceCollection(String collectionName) {
<span class="nc bnc" id="L363" title="All 4 branches missed.">        return collectionName != null &amp;&amp; (collectionName.startsWith(SYSTEM)</span>
<span class="nc bnc" id="L364" title="All 2 branches missed.">                || collectionName.startsWith(UNDERSCORE)</span>
<span class="nc bnc" id="L365" title="All 2 branches missed.">                || collectionName.endsWith(FS_CHUNKS_SUFFIX));</span>
    }

    /**
     *
     * @param documentIdRaw
     * @return isReservedResourceDocument
     */
    public static boolean isReservedResourceDocument(String documentIdRaw) {
<span class="nc bnc" id="L374" title="All 2 branches missed.">        if (documentIdRaw == null) {</span>
<span class="nc" id="L375">            return false;</span>
        }

<span class="nc bnc" id="L378" title="All 2 branches missed.">        return documentIdRaw.startsWith(UNDERSCORE)</span>
<span class="nc bnc" id="L379" title="All 2 branches missed.">                &amp;&amp; !documentIdRaw.equalsIgnoreCase(_INDEXES)</span>
<span class="nc bnc" id="L380" title="All 2 branches missed.">                &amp;&amp; !documentIdRaw.equalsIgnoreCase(MIN_KEY_ID)</span>
<span class="nc bnc" id="L381" title="All 2 branches missed.">                &amp;&amp; !documentIdRaw.equalsIgnoreCase(MAX_KEY_ID);</span>
    }

    /**
     *
     * @return isReservedResource
     */
    public boolean isReservedResource() {
<span class="nc bnc" id="L389" title="All 2 branches missed.">        if (type == TYPE.ROOT) {</span>
<span class="nc" id="L390">            return false;</span>
        }

<span class="nc bnc" id="L393" title="All 2 branches missed.">        return isReservedResourceDb(getDBName())</span>
<span class="nc bnc" id="L394" title="All 2 branches missed.">                || isReservedResourceCollection(getCollectionName())</span>
<span class="nc bnc" id="L395" title="All 2 branches missed.">                || isReservedResourceDocument(getDocumentIdRaw());</span>
    }

    /**
     * @return the whereUri
     */
    public String getUriPrefix() {
<span class="nc" id="L402">        return whereUri;</span>
    }

    /**
     * @return the whatUri
     */
    public String getMappingUri() {
<span class="nc" id="L409">        return whatUri;</span>
    }

    /**
     * @return the page
     */
    public int getPage() {
<span class="nc" id="L416">        return page;</span>
    }

    /**
     * @param page the page to set
     */
    public void setPage(int page) {
<span class="nc" id="L423">        this.page = page;</span>
<span class="nc" id="L424">    }</span>

    /**
     * @return the pagesize
     */
    public int getPagesize() {
<span class="nc" id="L430">        return pagesize;</span>
    }

    /**
     * @param pagesize the pagesize to set
     */
    public void setPagesize(int pagesize) {
<span class="nc" id="L437">        this.pagesize = pagesize;</span>
<span class="nc" id="L438">    }</span>

    /**
     * @return the count
     */
    public boolean isCount() {
<span class="nc" id="L444">        return count;</span>
    }

    /**
     * @param count the count to set
     */
    public void setCount(boolean count) {
<span class="nc" id="L451">        this.count = count;</span>
<span class="nc" id="L452">    }</span>

    /**
     * @return the filter
     */
    public Deque&lt;String&gt; getFilter() {
<span class="nc" id="L458">        return filter;</span>
    }

    /**
     * @param filter the filter to set
     */
    public void setFilter(Deque&lt;String&gt; filter) {
<span class="nc" id="L465">        this.filter = filter;</span>
<span class="nc" id="L466">    }</span>

    /**
     * @return the sortBy
     */
    public Deque&lt;String&gt; getSortBy() {
<span class="nc" id="L472">        return sortBy;</span>
    }

    /**
     * @param sortBy the sortBy to set
     */
    public void setSortBy(Deque&lt;String&gt; sortBy) {
<span class="nc" id="L479">        this.sortBy = sortBy;</span>
<span class="nc" id="L480">    }</span>

    /**
     * @return the collectionProps
     */
    public DBObject getCollectionProps() {
<span class="nc" id="L486">        return collectionProps;</span>
    }

    /**
     * @param collectionProps the collectionProps to set
     */
    public void setCollectionProps(DBObject collectionProps) {
<span class="nc" id="L493">        this.collectionProps = collectionProps;</span>
<span class="nc" id="L494">    }</span>

    /**
     * @return the dbProps
     */
    public DBObject getDbProps() {
<span class="nc" id="L500">        return dbProps;</span>
    }

    /**
     * @param dbProps the dbProps to set
     */
    public void setDbProps(DBObject dbProps) {
<span class="nc" id="L507">        this.dbProps = dbProps;</span>
<span class="nc" id="L508">    }</span>

    /**
     * @return the content
     */
    public DBObject getContent() {
<span class="nc" id="L514">        return content;</span>
    }

    /**
     * @param content the content to set
     */
    public void setContent(DBObject content) {
<span class="nc" id="L521">        this.content = content;</span>
<span class="nc" id="L522">    }</span>

    /**
     * @return the warnings
     */
    public List&lt;String&gt; getWarnings() {
<span class="nc" id="L528">        return warnings;</span>
    }

    /**
     * @param warning
     */
    public void addWarning(String warning) {
<span class="nc" id="L535">        warnings.add(warning);</span>
<span class="nc" id="L536">    }</span>

    /**
     * @return the mappedRequestUri
     */
    public String getMappedRequestUri() {
<span class="fc" id="L542">        return mappedRequestUri;</span>
    }

    /**
     * @return the unmappedRequestUri
     */
    public String getUnmappedRequestUri() {
<span class="nc" id="L549">        return unmappedRequestUri;</span>
    }

    /**
     *
     * @param index
     * @return pathTokens[index] if pathTokens.length &gt; index, else null
     */
    private String getPathTokenAt(int index) {
<span class="nc bnc" id="L558" title="All 2 branches missed.">        return pathTokens.length &gt; index ? pathTokens[index] : null;</span>
    }

    /**
     *
     * @return the cursorAllocationPolicy
     */
    public EAGER_CURSOR_ALLOCATION_POLICY getCursorAllocationPolicy() {
<span class="nc" id="L566">        return cursorAllocationPolicy;</span>
    }

    /**
     * @param cursorAllocationPolicy the cursorAllocationPolicy to set
     */
    public void setCursorAllocationPolicy(EAGER_CURSOR_ALLOCATION_POLICY cursorAllocationPolicy) {
<span class="nc" id="L573">        this.cursorAllocationPolicy = cursorAllocationPolicy;</span>
<span class="nc" id="L574">    }</span>

    /**
     * @return the docIdType
     */
    public DOC_ID_TYPE getDocIdType() {
<span class="nc" id="L580">        return docIdType;</span>
    }

    /**
     * @param docIdType the docIdType to set
     */
    public void setDocIdType(DOC_ID_TYPE docIdType) {
<span class="nc" id="L587">        this.docIdType = docIdType;</span>
<span class="nc" id="L588">    }</span>

    /**
     * @param documentId the documentId to set
     */
    public void setDocumentId(Object documentId) {
<span class="nc" id="L594">        this.documentId = documentId;</span>
<span class="nc" id="L595">    }</span>

    /**
     * @return the documentId
     */
    public Object getDocumentId() {
<span class="nc" id="L601">        return documentId;</span>
    }

    /**
     * @return the responseContent
     */
    public DBObject getResponseContent() {
<span class="nc" id="L608">        return responseContent;</span>
    }

    /**
     * @param responseContent the responseContent to set
     */
    public void setResponseContent(DBObject responseContent) {
<span class="nc" id="L615">        this.responseContent = responseContent;</span>
<span class="nc" id="L616">    }</span>

    /**
     * @return the file
     */
    public File getFile() {
<span class="nc" id="L622">        return file;</span>
    }

    /**
     * @param file the file to set
     */
    public void setFile(File file) {
<span class="nc" id="L629">        this.file = file;</span>
<span class="nc" id="L630">    }</span>

    /**
     * @return keys
     */
    public Deque&lt;String&gt; getKeys() {
<span class="nc" id="L636">        return keys;</span>
    }

    /**
     * @param keys keys to set
     */
    public void setKeys(Deque&lt;String&gt; keys) {
<span class="nc" id="L643">        this.keys = keys;</span>
<span class="nc" id="L644">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>